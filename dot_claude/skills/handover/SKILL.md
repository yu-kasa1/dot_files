---
name: handover
description: セッション終了時に引き継ぎノートを生成し、次のセッションへコンテキストを引き継ぐ。
---

# セッション引き継ぎノート生成 (handover)

## 概要
セッション終了時や作業の区切りで、引き継ぎノートを生成する。
spec.md や tasks.md には残らない「なぜその判断をしたか」「何を試してダメだったか」といった暗黙知を記録し、次のセッションで同じ議論を繰り返さないようにする。

## 呼び出しタイミング
- **設計セッション終了時**: 設計判断の背景や捨てた選択肢を記録
- **実装セッション終了時**: ハマりどころや未完了タスクの状況を記録
- **作業の区切り**: コンテキストが大きくなり、セッション分割が必要になったとき

## 実行手順

### 1. セッションの振り返り
会話コンテキストから今回のセッションで起きたことを整理する:
- 実施した作業と進捗
- 下した設計判断とその理由
- 検討したが採用しなかったアプローチ
- 詰まったポイントや想定外の挙動
- 得られた知見

### 2. 出力先の確認
- **出力先**: `~/.claude/handovers/{プロジェクト名}/` 配下（グローバル。プロジェクトのリポジトリを汚染しない）
- ディレクトリが存在しない場合は作成する
- ファイル名: `YYYY-MM-DD_HHmm.md`（例: `2026-02-25_1430.md`）
- 既存のファイルと同名になる場合は末尾に `_2` などの連番を付与する

### 3. 引き継ぎノートの生成
以下のテンプレートに従って生成する。該当なしのセクションは「なし」と記載する。

```markdown
# 引き継ぎノート YYYY-MM-DD HH:MM

## 今回やったこと
- 作業内容と進捗を箇条書きで

## 決定事項
- 確定した設計判断、方針、ルールなど

## 捨てた選択肢と理由
- 検討したが採用しなかったアプローチとその理由

## ハマりどころ
- 詰まったポイント、エラー、想定外の挙動など

## 学び
- 今回得られた知見、気づき

## 次にやること
- 未完了のタスク、次のセッションで着手すべきこと
- 優先度がわかるように書く

## 関連ファイル
- 今回触った主要ファイルのパス一覧
```

### 4. ユーザーへの報告
生成した引き継ぎノートをユーザーに提示し、追加・修正がないか確認する。

## 注意事項
- 簡潔に書く。箇条書き中心
- 推測や曖昧な表現は避け、事実ベースで書く
- 「捨てた選択肢と理由」は特に重要。次のセッションで同じ議論を繰り返さないために必ず記録する
- spec.md や tasks.md と重複する情報は最小限に。それらに**書かれていない**情報を優先して記録する
